version: "3"
output: "prefixed"
tasks:
  generate:
    aliases:
      - gen
      - build
    desc: Generate go client code for asyncapi.yaml
    cmd: bunx @asyncapi/cli@2.16.5 generate fromTemplate ./asyncapi.yaml  @asyncapi/go-watermill-template --force-write -p moduleName=slek-link/asyncapi -o .
  watch:
    desc: Generate go client & watch for changes in asyncapi.yaml
    cmd: bunx @asyncapi/cli@2.16.5 asyncapi.yaml  @asyncapi/go-watermill-template --force-write -p moduleName=slek-link/asyncapi -o . --watch-template
